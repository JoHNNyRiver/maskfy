"use strict";class Maskfy{constructor(t){this.objectTag="string"==typeof t?t:t.tag,this.objectSize=t.size,this.objectMask=t.mask,this.objectReverse=t.reverse,this.init(this.objectTag)}init(t){const e=this;document.querySelectorAll(t).forEach(t=>{e.paste(t),e.input(t),e.format(t)})}input(t){const e=this;t.addEventListener("input",s=>{const i=t.value,a=i.length,n=e.objectMask||t.dataset.mask,o=n.length,l=e.objectSize||t.dataset.maskSize,r=i.replace(/\D/g,""),c=r.split(""),p=e.objectReverse||t.hasAttribute("data-mask-reverse");var h;if(a>o&&c.pop(),p){for(h in/\d/.test(c[0])&&c.length>l&&"0"===c[0]&&c.shift(),i.split(""))/\D/.test(n[o-h-1])&&c.splice(c.length-h,0,n[o-h-1]);"deleteContentBackward"===s.inputType&&(r.length<l&&c.unshift(0),/\D/.test(c[0])&&c.shift())}else{for(h in i.split(""))/\D/.test(n[h])&&c.splice(h,0,n[h]);if("deleteContentBackward"===s.inputType)for(h=c.length-1;h>=0;h--)/\D/.test(c[h])?c.pop():h=-1}t.value=c.join(""),e.responsive(t)})}paste(t){t.addEventListener("paste",t=>t.preventDefault())}format(t){const e=t.value.split(""),s=e.length;for(var i=this.objectSize||t.dataset.maskSize||0;i>s;i--)e.unshift(0);t.value="",e.map(e=>{t.value+=e;const s=new MouseEvent("input");t.dispatchEvent(s)})}responsive(t){setTimeout(()=>{t.selectionStart=t.selectionEnd=t.value.length},0)}}